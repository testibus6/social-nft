<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Vote your NFT</title>
    <link rel="stylesheet" href="./main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script type="application/javascript"src="./main.js"></script>
  </head>
  <body onload="init()">  
    <div class="flex-container"> 
    <div>
        <h2 style="text-align: center;">Donate to get your chance to contribute to the first social NFT</h2>
    </div>      
      <div class="row">
        <div class="column" style="width: 75%">
          <p style="margin-top: 0;">You all probably have thought of creating an NFT yourself, but you fear there is no interest for it on the market. Therefore I created this little project:</p>
          <p style="margin-top: 0;">Together as a community we will make a community-NFT. The idea is to "vote" for a 64px x 64px Image-NFT together made out of 37 tiles. Each period you have the chance insert your tile into the NFT. To verfiy your vote, it is required to send a transaction to this <a href="https://etherscan.io/address/0xB85616867Cde43A30F0599796EEc589101084514" target="_blank">ETH-address</a>  with your specified amount in ETH. At the end of each period, the submitted tile with the biggest amount will be added to the NFT. Once all tiles are voted, an NFT will be created and auctioned on <a href="https://opensea.io/" target="_blank">opensea.io</a> or a similar plattform. The link will be provided on this website.</p>
          <p style="margin-top: 0;">For more details and basic rules see <a href="#rules_div">below</a>.</p>
        </div>
        <div class="column" style="width: 25%">
          <h3 id="final_nft" style="margin-top: 0;">Current NFT:</h3>
          <img src="./nft_temp.png" id="nft" alt="Current-nft" style="position: relative ; top: 0; left: 15%; width: 128px">
        </div>
      </div>
      <p style="display: none;font-weight: bold;" id="nft_end">The voting for the NFT has been completed. The link to the NFT-auction will be provided soon</p>
      <div class="row" id="vote_row">
        <div class="column" style="width: 75%">
          <h3 style="margin-top: 5px;">Create your vote for period: <span id="vote_creation"></span> </h3>
          <ul>
            <li>Highest vote in this period: <span id="highestvote">-</span> ETH <small>(status: <span id="last_update">-</span>)</small> at <span id="verfied_votes"></span> verfied votes</ui>
            <li>Time left in this period: <span id="countdown">-</span></ui>
          </ul>
          <ol>
            <li>
              <label for="file">Upload file:</label>
              <form style="display: inline;">
                <input type="file" id="file_id" name="file" onchange="check_image()">
              </form>                
            </li>
            <li>
              <label for="add">Your Address:</label>
              <input oninput="validated_address()" type="text" id="add" name="add" required minlength="42" maxlength="42">                
              <i class="fa fa-copy" id="copied" onclick="copyaddress('add')"></i>
              <button id="enableEthereumButton" onclick="getAccount()">Get Address</button>
            </li>
            <li>
              <form >
                <label for="amount">Amount [Eth]:</label>
                <input type="number" id="amount" name="amount" value="0.005" min="0" step="0.001">
              </form>
            </li>
            <li><button onclick="submitVote()">Submit vote</button><div class="loader2" id="vote_loader"></div></li>
            <li id="vote_result_li">
              <p id="vote_result" >Send Transaction (once vote is registered)</p>
              <ol id="transaction_details" style="display: none" type="disc">
                <li id="from_add">Coffee</li>
                <li id="to_add">Tea</li>
                <li id="vote_amount">Milk</li>
              </ol> 
              <button id="sendTransaction" onclick="submitTransaction()" style="display: none">Send Transaction to <span id="nft_address"></span></button>
            </li>
          </ol>
          <details>
            <summary>Manually select/adapt your vote pixelwise</summary>
            <button id="man_update_px" onclick="onchange_px_value()">Update vote preview</button>
            <table id="vote_table"></table>
          </details> 
        </div> 
        <div class="column" style="width: 25%">
          <h3 style="margin-top: 5px;">Preview of NFT with your vote:</h3>
          <div id="container" style="position: relative; width: 90%;">
            <img src="./nft_temp.png" id="nft_preview" alt="Preview-nft" style="position: absolute; top: 0; left: 0; width: 64px">
            <img src="" id="tile_img" style="position: absolute; top: 0; left: 0;">
            <img src="./epochs.png" id="nft" alt="Current-nft" style="position: absolute; top: 0; left: 75px; width: 64px" >
          </div> 
        </div>
      </div> 
      <div class="row" id="rules_div">
        <div class="column" style="width: 100%">
         <h4 style="margin-top: 0; margin-bottom:0;">Basic rules:</h4>
            <ol style="margin-top: 0;" id="rules">
              <li >By sending your vote or/and ETH-transaction, you do not obtain any guarantee or right that your tile will be included. The transaction amount is simply considered to be a donation to the address. Indeed I am not planning on this to happen, but one never knows.</li>
              <li >When submitting your vote, you confirm that no third-party has a copyright on the submitted image/pixels. Hence be creative yourself!</li>
              <li >By submitting your vote, you agree that is file will be used as a part of a bigger image to create an NFT, which later will be auctioned. You will not receive any compensation.</li>
              <li >In order to enable to continue the minting of the NFT without any violation of copyrights later on, the processor has the right to remove votes - which might violate intellectual property. Any submitted logos, NFTs, or other trademarked icons/images will be removed. So be creative!</li>
              <li >At the end of the period no more votes will be accepted. Transactions arriving up to 6hours after the end of the period will be included.</li>
              <li >Each address has only one vote per period. Sending muliple transactions in one period will not be added up.</li>
              <li >The tile-schema for the different periods is shown below. The period for the 8px x 8px tiles is 24 hours, respectivly 48 hours for the 16px x 16px tiles. After each period there is cooldown phase of 6 hours.</li>              
              <li>In case there are multiple votes with the same amount submitted, the vote which was submitted first will be considered.</li>
              <li>If there is demand for this kind of thing and joy, I might create a similar setup e.g. with different tile-size/ordering or on another network. You are welcome to make suggestions!</li>
              <li>The code can be found on <a href="https://github.com/testibus6/social-nft" target="_blank">Github</a>. In case of issues or special requests, please contact me there. As always DYOR! Now let's have some fun;)</li>
            </ol>           
        </div>
      </div>         
    </div>   

    <script type="module">

      // Import the functions you need from the SDKs you need
    
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js";
    
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.0.2/firebase-analytics.js";
       
      const firebaseConfig = {
    
        apiKey: "AIzaSyB2GyilXi6TQ0SC7Efi7hn9c_CDDo2Wgrk",
    
        authDomain: "social-nft.firebaseapp.com",
    
        projectId: "social-nft",
    
        storageBucket: "social-nft.appspot.com",
    
        messagingSenderId: "890083381997",
    
        appId: "1:890083381997:web:26b7ef414b19e5d27572e4",
    
        measurementId: "G-6THW389TS4"
    
      };    
    
      // Initialize Firebase
    
      const app = initializeApp(firebaseConfig);
    
      const analytics = getAnalytics(app);
    
    </script>

  </body>
</html>
